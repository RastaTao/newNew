model.User.entityMethods.validatePassword=function(a){var b=directory.computeHA1(this.phone,a);return b===this.hashKey},model.User.entityMethods.validatePassword.scope="public",model.User.methods.register=function(a,b){var c=ds.User.find("phone ==:1",a);debugger;if(!c){var d=new ds.User({phone:a,password:b});d.save();var e=ds.Member.query("phone ==:1",a);if(e){var f=e.length;d.name=e[0].lastName+" "+e[0].firstName,d.save();for(var g=0;g<f;g++)e[g].addUser(d)}}},model.User.methods.register.scope="public"